# æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ å¿«é€Ÿä½“éªŒ

æƒ³è¦å¿«é€Ÿä½“éªŒæ¸¸æˆæœåŠ¡å™¨æ¡†æ¶å—ï¼Ÿåªéœ€è¦5åˆ†é’Ÿï¼

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/liuxiao2015/game-server-framework.git
cd game-server-framework

# 2. å®‰è£…å¼€å‘ç¯å¢ƒ
./scripts/dev/setup-dev-env.sh

# 3. åˆå§‹åŒ–é¡¹ç›®
./scripts/dev/init-project.sh

# 4. å¯åŠ¨å¼€å‘ç¯å¢ƒ
./scripts/dev/run-local.sh
```

### è®¿é—®åº”ç”¨

å¯åŠ¨å®Œæˆåï¼Œè®¿é—®ä»¥ä¸‹åœ°å€ï¼š

- **åº”ç”¨é¦–é¡µ**: http://localhost:18000
- **ç®¡ç†æ§åˆ¶å°**: http://localhost:18090
- **APIæ–‡æ¡£**: http://localhost:18000/swagger-ui.html
- **å¥åº·æ£€æŸ¥**: http://localhost:18090/actuator/health

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

### æœ€ä½è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Linux/macOS/Windows 10+
- **å†…å­˜**: 8GB+
- **ç£ç›˜ç©ºé—´**: 10GB+
- **ç½‘ç»œ**: èƒ½å¤Ÿè®¿é—®äº’è”ç½‘ä¸‹è½½ä¾èµ–

### è‡ªåŠ¨å®‰è£…çš„å·¥å…·
è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä»¥ä¸‹å·¥å…·ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š
- Java 21
- Maven 3.8+
- Git
- Docker & Docker Compose

## ğŸ”§ å¼€å‘ç¯å¢ƒè¯¦è§£

### é¡¹ç›®ç»“æ„ä¸€è§ˆ

```
game-server-framework/
â”œâ”€â”€ ğŸ“ frame/                    # æ ¸å¿ƒæ¡†æ¶æ¨¡å—
â”‚   â”œâ”€â”€ frame-network/           # ç½‘ç»œé€šä¿¡æ¡†æ¶
â”‚   â”œâ”€â”€ frame-db/               # æ•°æ®åº“æ¡†æ¶
â”‚   â”œâ”€â”€ frame-cache/            # ç¼“å­˜æ¡†æ¶
â”‚   â”œâ”€â”€ frame-event/            # äº‹ä»¶æ€»çº¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“ business/                 # ä¸šåŠ¡é€»è¾‘æ¨¡å—
â”‚   â”œâ”€â”€ ranking/                # æ’è¡Œæ¦œæœåŠ¡
â”‚   â”œâ”€â”€ activity/               # æ´»åŠ¨ç³»ç»Ÿ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“ admin-console/           # ç®¡ç†æ§åˆ¶å°
â”œâ”€â”€ ğŸ“ scripts/                 # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ dev/                    # å¼€å‘è„šæœ¬
â”‚   â”œâ”€â”€ build/                  # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ tools/                  # å·¥å…·è„šæœ¬
â”œâ”€â”€ ğŸ“ docker/                  # Dockeré…ç½®
â”œâ”€â”€ ğŸ“ k8s/                     # Kubernetesé…ç½®
â”œâ”€â”€ ğŸ“ docs/                    # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ ğŸ“„ README.md               # é¡¹ç›®è¯´æ˜
```

### æœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Client    â”‚    â”‚  Mobile Client  â”‚    â”‚   Game Client   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      API Gateway       â”‚
                    â”‚    (Spring Gateway)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Business Services    â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚  â”‚ User Service        â”‚ â”‚
                    â”‚  â”‚ Game Service        â”‚ â”‚
                    â”‚  â”‚ Chat Service        â”‚ â”‚
                    â”‚  â”‚ Rank Service        â”‚ â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Framework Layer      â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚  â”‚ Network Framework   â”‚ â”‚
                    â”‚  â”‚ Cache Framework     â”‚ â”‚
                    â”‚  â”‚ DB Framework        â”‚ â”‚
                    â”‚  â”‚ Event Framework     â”‚ â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin develop

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/æ–°åŠŸèƒ½åç§°

# 3. å¯åŠ¨å¼€å‘ç¯å¢ƒ
./scripts/dev/run-local.sh

# 4. è¿›è¡Œå¼€å‘
# ç¼–è¾‘ä»£ç ï¼ŒIDEä¼šè‡ªåŠ¨é‡è½½

# 5. è¿è¡Œæµ‹è¯•
mvn test

# 6. æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin feature/æ–°åŠŸèƒ½åç§°

# 7. åˆ›å»ºPull Request
# åœ¨GitHubä¸Šåˆ›å»ºPRï¼Œç­‰å¾…å®¡æŸ¥
```

### IDEå¼€å‘æ¨¡å¼

å¦‚æœä½ å–œæ¬¢åœ¨IDEä¸­è°ƒè¯•ï¼Œå¯ä»¥è¿™æ ·åšï¼š

```bash
# 1. å¯åŠ¨ä¾èµ–æœåŠ¡ï¼ˆä¸å¯åŠ¨åº”ç”¨å®¹å™¨ï¼‰
./scripts/dev/run-local.sh start ide

# 2. åœ¨IDEä¸­å¯åŠ¨åº”ç”¨
# ä½¿ç”¨ä»¥ä¸‹JVMå‚æ•°ï¼š
# -Dspring.profiles.active=local,dev
# -Dspring.config.additional-location=file:/Users/ä½ çš„ç”¨æˆ·å/.gameserver/config/
```

## ğŸ“Š å¼€å‘å·¥å…·é¢æ¿

å¼€å‘ç¯å¢ƒå¯åŠ¨åï¼Œä½ å¯ä»¥è®¿é—®ä»¥ä¸‹ç®¡ç†å·¥å…·ï¼š

### æ•°æ®åº“ç®¡ç†
- **phpMyAdmin**: http://localhost:18080
  - ç”¨æˆ·å: `gameserver`
  - å¯†ç : `gameserver123`
  - æ•°æ®åº“: `gameserver_dev`

- **Adminer**: http://localhost:18082 (è½»é‡çº§å¤‡é€‰)

### ç¼“å­˜ç®¡ç†
- **Redis Commander**: http://localhost:18081
  - å¯è§†åŒ–Redisæ•°æ®ç®¡ç†

### é‚®ä»¶æµ‹è¯•
- **MailHog**: http://localhost:18025
  - æ•è·åº”ç”¨å‘é€çš„é‚®ä»¶ï¼Œç”¨äºæµ‹è¯•

### ç›‘æ§é¢æ¿
- **Grafana**: http://localhost:13000
  - ç”¨æˆ·å: `admin`
  - å¯†ç : `admin`
  - æŸ¥çœ‹åº”ç”¨æ€§èƒ½æŒ‡æ ‡

- **Prometheus**: http://localhost:19000
  - æŸ¥çœ‹åŸå§‹ç›‘æ§æ•°æ®

## ğŸ® åŠŸèƒ½æ¼”ç¤º

### ç”¨æˆ·æ³¨å†Œç™»å½•

```bash
# æ³¨å†Œæ–°ç”¨æˆ·
curl -X POST http://localhost:18000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "password123"
  }'

# ç”¨æˆ·ç™»å½•
curl -X POST http://localhost:18000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "password123"
  }'
```

### WebSocketè¿æ¥æµ‹è¯•

```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æµ‹è¯•WebSocket
const ws = new WebSocket('ws://localhost:19091/ws');
ws.onopen = () => console.log('WebSocketè¿æ¥æˆåŠŸ');
ws.onmessage = (event) => console.log('æ”¶åˆ°æ¶ˆæ¯:', event.data);
ws.send(JSON.stringify({type: 'ping', data: 'hello'}));
```

## ğŸ” å¸¸è§é—®é¢˜

### Q: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ
A: æ£€æŸ¥å“ªä¸ªæœåŠ¡å ç”¨äº†ç«¯å£ï¼š
```bash
# Linux/macOS
lsof -i :18000

# Windows
netstat -ano | findstr :18000
```

ç„¶ååœæ­¢å ç”¨ç«¯å£çš„æœåŠ¡ï¼Œæˆ–ä¿®æ”¹ `docker-compose.dev.yml` ä¸­çš„ç«¯å£é…ç½®ã€‚

### Q: Dockerå®¹å™¨å¯åŠ¨å¤±è´¥ï¼Ÿ
A: æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š
```bash
./scripts/dev/run-local.sh logs gameserver-dev
```

å¸¸è§åŸå› ï¼š
- å†…å­˜ä¸è¶³ï¼ˆéœ€è¦è‡³å°‘8GBï¼‰
- ç£ç›˜ç©ºé—´ä¸è¶³
- Dockeræƒé™é—®é¢˜

### Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥MySQLå®¹å™¨çŠ¶æ€ï¼š
```bash
docker-compose -f docker-compose.dev.yml ps mysql-dev
```

å¦‚æœå®¹å™¨æœªå¯åŠ¨ï¼Œé‡å¯æœåŠ¡ï¼š
```bash
./scripts/dev/run-local.sh restart mysql-dev
```

### Q: åº”ç”¨å¯åŠ¨å¾ˆæ…¢ï¼Ÿ
A: è¿™æ˜¯æ­£å¸¸çš„ï¼Œé¦–æ¬¡å¯åŠ¨éœ€è¦ï¼š
- ä¸‹è½½Mavenä¾èµ–
- åˆå§‹åŒ–æ•°æ®åº“
- æ„å»ºDockeré•œåƒ

åç»­å¯åŠ¨ä¼šå¿«å¾ˆå¤šã€‚

## ğŸš€ ä¸‹ä¸€æ­¥

æ­å–œï¼ä½ å·²ç»æˆåŠŸæ­å»ºäº†å¼€å‘ç¯å¢ƒã€‚ç°åœ¨å¯ä»¥ï¼š

1. **é˜…è¯»æ¶æ„æ–‡æ¡£**: [ç³»ç»Ÿæ¶æ„å›¾](docs/architecture/ç³»ç»Ÿæ¶æ„å›¾.md)
2. **å­¦ä¹ å¼€å‘è§„èŒƒ**: [ç¼–ç è§„èŒƒ](docs/development/ç¼–ç è§„èŒƒ.md)
3. **äº†è§£Gitå·¥ä½œæµ**: [Gitä½¿ç”¨è§„èŒƒ](docs/development/Gitä½¿ç”¨è§„èŒƒ.md)
4. **æŸ¥çœ‹APIæ–‡æ¡£**: http://localhost:18000/swagger-ui.html
5. **åŠ å…¥å¼€å‘**: åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯

## ğŸ’¡ å¼€å‘æŠ€å·§

### å¿«æ·è„šæœ¬

é¡¹ç›®æä¾›äº†å¾ˆå¤šä¾¿æ·è„šæœ¬ï¼š

```bash
# å¿«é€Ÿæ„å»º
./scripts/build/build.sh

# ä»£ç æ ¼å¼åŒ–
./tools/dev/format-code.sh

# ä¾èµ–æ£€æŸ¥
./tools/dev/check-dependencies.sh

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./scripts/dev/run-local.sh status

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
./scripts/dev/run-local.sh logs gameserver-dev
```

### æ€§èƒ½ä¼˜åŒ–

å¼€å‘æ—¶å¯ä»¥è¿™æ ·ä¼˜åŒ–æ€§èƒ½ï¼š

```bash
# å¢åŠ Dockerå†…å­˜
# åœ¨Docker Desktopè®¾ç½®ä¸­åˆ†é…æ›´å¤šå†…å­˜

# ä½¿ç”¨æœ¬åœ°Mavenä»“åº“ç¼“å­˜
export MAVEN_OPTS="-Xmx2g"

# è·³è¿‡ä¸å¿…è¦çš„æ­¥éª¤
./scripts/dev/run-local.sh --no-monitoring --no-tools
```

## ğŸ†˜ è·å¾—å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿå¯ä»¥ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**: `docs/` ç›®å½•ä¸‹æœ‰è¯¦ç»†æ–‡æ¡£
2. **æœç´¢Issue**: åœ¨GitHubä»“åº“ä¸­æœç´¢ç›¸å…³é—®é¢˜
3. **æäº¤Issue**: æè¿°é—®é¢˜å’Œé‡ç°æ­¥éª¤
4. **æŸ¥çœ‹æ—¥å¿—**: ä½¿ç”¨ `./scripts/dev/run-local.sh logs` æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

---

**å¼€å§‹ä½ çš„æ¸¸æˆæœåŠ¡å™¨å¼€å‘ä¹‹æ—…å§ï¼** ğŸ®

*æœ€åæ›´æ–°: 2025-01-01*